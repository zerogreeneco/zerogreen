<!DOCTYPE html>
<th:block th:replace="~{basic/basicTemplate :: setContent(~{this::content})}" xmlns:th="http://www.w3.org/1999/xhtml"
          xmlns:sec="http://www.w3.org/1999/xhtml">
    <th:block th:fragment="content">
        <link rel="stylesheet" th:href="@{/bootstrap/css/index/index.css}" />
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
                integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
                crossorigin="anonymous"></script>
        <script type="text/javascript"
                src="@{http://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js}"></script>
        <script type="text/javascript" th:src="@{/bootstrap/js/index/loginmodal.js}"></script>

        <!--login pop-up-->
        <div sec:authorize="isAnonymous()">
            <div id="popup-wrap">
                <div class="popup">
                    <span id="popup-text">로그인시 추가적인 서비스<br>이용이 가능합니다.</span>
                    <div>
                        <button id="popup-cancle">취소</button>
                        <button id="popup-login" th:onclick="|location.href='@{/login}'|">로그인</button></a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row gtr-200">
            <!--Shop List-->
            <div id="shop-section">
                <!--식당 리스트-->
                <div>
                    <span class="cate-title">내 주변 맛집</span>
                    <div style="display: inline-flex;">
                        <div class="card" th:each="temp : ${approval}" th:unless="${temp.storeType.toString().equals('ECO_SHOP')}"
                             th:onclick="|javascript: goStore('${temp.memberId}')|">
                            <div class="card-header">
                                <img src="http://placehold.it/300x300"/>
                            </div>
                            <div class="shopList-box">
                                <div class="card-body">
                                    <span class="shop-name">[[${temp.memberId}]]</span>
                                    <span class="shop-name">[[${temp.storeType}]]</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--제로웨이스트샵 리스트-->
                <div class="margin-title">
                    <span class="cate-title">근처 제로웨이스트샵</span>
                    <div style="display: inline-flex;">
                        <div class="card" th:each="temp : ${approval}" th:if="${temp.storeType.toString().equals('ECO_SHOP')}"
                             th:onclick="|javascript: goStore('${temp.memberId}')|">
                            <div class="card-header">
                                <img src="http://placehold.it/300x300"/>
                            </div>
                            <div class="shopList-box">
                                <div class="card-body">
                                    <span class="shop-name">[[${temp.memberId}]]</span>
                                    <span class="shop-name">[[${temp.storeType}]]</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Google Map-->
            <div id="map-section">
                <div id="map"></div>
            </div>
        </div>

        <script th:inline="javascript">
            function goStore(sno) {
                //alert('goStore');
                /*[+
                var url = [[@{page/detail}]] + "/" +sno ;
                +]*/
                location.href = url;
            }
        </script>

        <!--지도 부분-->
        <script type="text/javascript" th:src="@{/bootstrap/js/map.js}"></script>
        <script type="text/javascript"
                src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=8b90a59d1c1c795a8266f3f47ebfd1ac"></script>
<!--        <div th:each="app : ${approval}">-->
<!--            <span th:text="${app.storeAddress}"></span><br>-->
<!--            <span th:text="${app.storeType}"></span><hr>-->
<!--        </div>-->
    </th:block>
</th:block>
</html>